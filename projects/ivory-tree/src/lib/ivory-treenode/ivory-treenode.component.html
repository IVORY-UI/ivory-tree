<div class="ivory-treenode">
  <div class="ivory-treenode-content">
    <div class="ivory-treenode-expand">
      @if (node.children && node.children.length>0) {
        <button (click)="_expanded=!_expanded">
          @if (!_expanded) {
            <div class="ivory-icon-collapse"></div>
          }
          @else {
            <div class="ivory-icon-expand"></div>
          }
        </button>
      }
    </div>
    <div class="ivory-treenode-title">
      @if (nodeSelectable) {
        <input
          type="checkbox"
          id="{{_uniqueId}}"
          class="node-checkbox"
          [name]="node.name"
          (change)="nodeSelectionChange($event)"
          [(ngModel)]="node.isSelected"
        />
        <label for="{{_uniqueId}}">
          {{ node.name }}
        </label>
      }
      @else {
        <span>
          {{ node.name }}
        </span>
      }
    </div>
  </div>
  
  @if (_expanded) {
    <div class="ivory-treenode-children">
      <ng-content></ng-content>
    </div>
  }
</div>
